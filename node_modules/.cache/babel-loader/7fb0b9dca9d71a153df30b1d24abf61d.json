{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/tastyKitchensApp/src/components/Carousel/index.js\";\nimport { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport Slider from 'react-slick';\nimport Loader from 'react-loader-spinner';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Carousel extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      offersList: [],\n      isLoading: false\n    };\n    this.getCarousel = async () => {\n      this.setState({\n        isLoading: true\n      });\n      const jwtToken = Cookies.get('jwt_token');\n      const url = 'https://apis.ccbp.in/restaurants-list/offers';\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        },\n        method: 'GET'\n      };\n      const response = await fetch(url, options);\n      const data = await response.json();\n      const updatedData = data.offers.map(eachItem => ({\n        id: eachItem.id,\n        imageUrl: eachItem.image_url\n      }));\n      this.setState({\n        offersList: updatedData,\n        isLoading: false\n      });\n    };\n    this.renderCarousel = () => {\n      const settings = {\n        dots: true,\n        infinite: true,\n        speed: 500,\n        slidesToShow: 1,\n        slidesToScroll: 1,\n        autoplay: true,\n        autoplaySpeed: 2000\n      };\n      const {\n        offersList\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"carousel-container\",\n        children: /*#__PURE__*/_jsxDEV(Slider, {\n          ...settings,\n          className: \"carousal\",\n          children: offersList.map(eachImage => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: eachImage.imageUrl,\n              alt: \"offer\",\n              className: \"carousal-item-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this)\n          }, eachImage.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }, this);\n    };\n    this.renderLoader = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"restaurants-offers-loader\",\n      className: \"restaurants-offers-loader\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"ThreeDots\",\n        color: \"#F7931E\",\n        height: 50,\n        width: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this);\n  }\n  componentDidMount() {\n    this.getCarousel();\n  }\n  render() {\n    const {\n      isLoading\n    } = this.state;\n    return isLoading ? this.renderLoader() : this.renderCarousel();\n  }\n}\nexport default Carousel;","map":{"version":3,"names":["Component","Cookies","Slider","Loader","jsxDEV","_jsxDEV","Carousel","constructor","args","state","offersList","isLoading","getCarousel","setState","jwtToken","get","url","options","headers","Authorization","method","response","fetch","data","json","updatedData","offers","map","eachItem","id","imageUrl","image_url","renderCarousel","settings","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","className","children","eachImage","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","renderLoader","type","color","height","width","componentDidMount","render"],"sources":["/home/workspace/reactjs/coding-practices/tastyKitchensApp/src/components/Carousel/index.js"],"sourcesContent":["import {Component} from 'react'\nimport Cookies from 'js-cookie'\nimport Slider from 'react-slick'\nimport Loader from 'react-loader-spinner'\nimport './index.css'\n\nclass Carousel extends Component {\n  state = {\n    offersList: [],\n    isLoading: false,\n  }\n\n  componentDidMount() {\n    this.getCarousel()\n  }\n\n  getCarousel = async () => {\n    this.setState({isLoading: true})\n    const jwtToken = Cookies.get('jwt_token')\n    const url = 'https://apis.ccbp.in/restaurants-list/offers'\n    const options = {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`,\n      },\n      method: 'GET',\n    }\n    const response = await fetch(url, options)\n    const data = await response.json()\n    const updatedData = data.offers.map(eachItem => ({\n      id: eachItem.id,\n      imageUrl: eachItem.image_url,\n    }))\n    this.setState({offersList: updatedData, isLoading: false})\n  }\n\n  renderCarousel = () => {\n    const settings = {\n      dots: true,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      autoplay: true,\n      autoplaySpeed: 2000,\n    }\n    const {offersList} = this.state\n    return (\n      <ul className=\"carousel-container\">\n        <Slider {...settings} className=\"carousal\">\n          {offersList.map(eachImage => (\n            <li key={eachImage.id}>\n              <img\n                src={eachImage.imageUrl}\n                alt=\"offer\"\n                className=\"carousal-item-image\"\n              />\n            </li>\n          ))}\n        </Slider>\n      </ul>\n    )\n  }\n\n  renderLoader = () => (\n    <div\n      data-testid=\"restaurants-offers-loader\"\n      className=\"restaurants-offers-loader\"\n    >\n      <Loader type=\"ThreeDots\" color=\"#F7931E\" height={50} width={50} />\n    </div>\n  )\n\n  render() {\n    const {isLoading} = this.state\n    return isLoading ? this.renderLoader() : this.renderCarousel()\n  }\n}\n\nexport default Carousel\n"],"mappings":";AAAA,SAAQA,SAAS,QAAO,OAAO;AAC/B,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAO,aAAa;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEpB,MAAMC,QAAQ,SAASN,SAAS,CAAC;EAAAO,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAC/BC,KAAK,GAAG;MACNC,UAAU,EAAE,EAAE;MACdC,SAAS,EAAE;IACb,CAAC;IAAA,KAMDC,WAAW,GAAG,YAAY;MACxB,IAAI,CAACC,QAAQ,CAAC;QAACF,SAAS,EAAE;MAAI,CAAC,CAAC;MAChC,MAAMG,QAAQ,GAAGb,OAAO,CAACc,GAAG,CAAC,WAAW,CAAC;MACzC,MAAMC,GAAG,GAAG,8CAA8C;MAC1D,MAAMC,OAAO,GAAG;QACdC,OAAO,EAAE;UACPC,aAAa,EAAG,UAASL,QAAS;QACpC,CAAC;QACDM,MAAM,EAAE;MACV,CAAC;MACD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAEC,OAAO,CAAC;MAC1C,MAAMM,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClC,MAAMC,WAAW,GAAGF,IAAI,CAACG,MAAM,CAACC,GAAG,CAACC,QAAQ,KAAK;QAC/CC,EAAE,EAAED,QAAQ,CAACC,EAAE;QACfC,QAAQ,EAAEF,QAAQ,CAACG;MACrB,CAAC,CAAC,CAAC;MACH,IAAI,CAAClB,QAAQ,CAAC;QAACH,UAAU,EAAEe,WAAW;QAAEd,SAAS,EAAE;MAAK,CAAC,CAAC;IAC5D,CAAC;IAAA,KAEDqB,cAAc,GAAG,MAAM;MACrB,MAAMC,QAAQ,GAAG;QACfC,IAAI,EAAE,IAAI;QACVC,QAAQ,EAAE,IAAI;QACdC,KAAK,EAAE,GAAG;QACVC,YAAY,EAAE,CAAC;QACfC,cAAc,EAAE,CAAC;QACjBC,QAAQ,EAAE,IAAI;QACdC,aAAa,EAAE;MACjB,CAAC;MACD,MAAM;QAAC9B;MAAU,CAAC,GAAG,IAAI,CAACD,KAAK;MAC/B,oBACEJ,OAAA;QAAIoC,SAAS,EAAC,oBAAoB;QAAAC,QAAA,eAChCrC,OAAA,CAACH,MAAM;UAAA,GAAK+B,QAAQ;UAAEQ,SAAS,EAAC,UAAU;UAAAC,QAAA,EACvChC,UAAU,CAACiB,GAAG,CAACgB,SAAS,iBACvBtC,OAAA;YAAAqC,QAAA,eACErC,OAAA;cACEuC,GAAG,EAAED,SAAS,CAACb,QAAS;cACxBe,GAAG,EAAC,OAAO;cACXJ,SAAS,EAAC;YAAqB;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChC;UAAC,GALKN,SAAS,CAACd,EAAE;YAAAiB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAMjB,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC;IAET,CAAC;IAAA,KAEDC,YAAY,GAAG,mBACb7C,OAAA;MACE,eAAY,2BAA2B;MACvCoC,SAAS,EAAC,2BAA2B;MAAAC,QAAA,eAErCrC,OAAA,CAACF,MAAM;QAACgD,IAAI,EAAC,WAAW;QAACC,KAAK,EAAC,SAAS;QAACC,MAAM,EAAE,EAAG;QAACC,KAAK,EAAE;MAAG;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/D,CACN;EAAA;EA1DDM,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAAC3C,WAAW,CAAC,CAAC;EACpB;EA0DA4C,MAAMA,CAAA,EAAG;IACP,MAAM;MAAC7C;IAAS,CAAC,GAAG,IAAI,CAACF,KAAK;IAC9B,OAAOE,SAAS,GAAG,IAAI,CAACuC,YAAY,CAAC,CAAC,GAAG,IAAI,CAAClB,cAAc,CAAC,CAAC;EAChE;AACF;AAEA,eAAe1B,QAAQ"},"metadata":{},"sourceType":"module"}